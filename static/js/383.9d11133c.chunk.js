"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[383],{2383:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var r,a,o,i,c,u=t(5861),s=t(9439),p=t(7757),l=t.n(p),d=t(1087),f=t(7689),h=t(2791),v=t(36),x=t(5264),m=t(168),b=t(5867),g=b.ZP.input(r||(r=(0,m.Z)(["\n  width: 90%;\n  padding: 10px;\n  margin-top: 10px;\n  outline: none;\n  border-radius: 40px;\n  border: 1px solid black;\n  transition: all 600ms ease;\n  &:focus-within {\n    border-color: #048d8d;\n  }\n"]))),y=b.ZP.form(a||(a=(0,m.Z)(["\n  position: relative;\n  max-width: 900px;\n  width: 100%;\n"]))),Z=b.ZP.button(o||(o=(0,m.Z)(["\n  position: absolute;\n  top: 60%;\n  cursor: pointer;\n  left: 88%;\n  transform: translate(-50%, -50%);\n  padding: 10.6px 10px 10px 10px;\n  margin: 0;\n  background: #dddddd;\n  color: #ff9812;\n  text-transform: uppercase;\n  outline: none;\n  border: 1px solid black;\n  border-top-right-radius: 40px;\n  border-bottom-right-radius: 40px;\n  transition: all 600ms ease;\n  &:hover {\n    background: orange;\n    color: #dddddd;\n    font-weight: 700;\n  }\n"]))),w=t(184),k=function(n){var e=n.onSubmit;return(0,w.jsx)("div",{children:(0,w.jsxs)(y,{onSubmit:e,children:[(0,w.jsx)(g,{type:"text",placeholder:"Search...",autoComplete:"false"}),(0,w.jsx)(Z,{type:"submit",children:"Search"})]})})},j=b.ZP.div(i||(i=(0,m.Z)(["\n    max-width: 100%;\n"]))),P=t(630),_=t(6048),C=t.n(_),S=t(8820),N=t(9983),q=b.ZP.div(c||(c=(0,m.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),z=function(n){var e=n.totalPages,t=n.onPageChange;return(0,w.jsx)(q,{children:(0,w.jsx)(C(),{containerClassName:"pagination",pageClassName:"page-item",activeClassName:"active-page",onPageChange:t,pageRangeDisplayed:3,pageCount:e,breakLabel:"...",previousLabel:(0,w.jsx)(N.Pd.Provider,{value:{color:"#cf9d13",size:"36px"},children:(0,w.jsx)(S._u0,{})}),nextLabel:(0,w.jsx)(N.Pd.Provider,{value:{color:"#cf9d13",size:"36px"},children:(0,w.jsx)(S.bBv,{})})})})},L=(0,h.lazy)((function(){return t.e(0).then(t.bind(t,4e3))})),T=function(){var n,e=(0,h.useState)([]),t=(0,s.Z)(e,2),r=t[0],a=t[1],o=(0,h.useState)(!1),i=(0,s.Z)(o,2),c=i[0],p=i[1],m=(0,h.useState)(0),b=(0,s.Z)(m,2),g=b[0],y=b[1],Z=(0,h.useState)(null),_=(0,s.Z)(Z,2),C=_[0],S=_[1],N=(0,d.lr)(),q=(0,s.Z)(N,2),T=q[0],D=q[1],E=(0,f.TH)(),R=null!==(n=T.get("query"))&&void 0!==n?n:"";return(0,h.useEffect)((function(){if(""!==R.trim()&&0!==g){var n=function(){var n=(0,u.Z)(l().mark((function n(){var e,t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),n.next=4,(0,v.q)(R,g);case 4:e=n.sent,(t=e.data.results).length>0?(a(t),S(e.data.total_pages)):x.Notify.failure("Movies NOT found"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),x.Notify.failure("Error, server not answer");case 13:return n.prev=13,p(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,9,13,16]])})));return function(){return n.apply(this,arguments)}}();n()}}),[g,R]),(0,w.jsxs)(j,{children:[c&&(0,w.jsx)(P.Z,{}),"/movies"===E.pathname&&(0,w.jsx)(k,{onSubmit:function(n){var e;n.preventDefault();var t=n.target.children[0].value;if(""===t.trim())return D({});D({query:t}),y(1),n.target.children[0].value="",null===(e=E.state)||void 0===e||e.to("/movies")}}),(0,w.jsx)(h.Suspense,{fallback:(0,w.jsx)(P.Z,{}),children:(0,w.jsx)(f.j3,{})}),R&&(0,w.jsx)(L,{searchResult:r}),C>1&&"/movies"===E.pathname&&(0,w.jsx)(z,{totalPages:C,onPageChange:function(n){return y(n.selected+1)}})]})}},36:function(n,e,t){t.d(e,{TP:function(){return h},ap:function(){return p},bp:function(){return x},q:function(){return d},sU:function(){return s},tx:function(){return b}});var r=t(5861),a=t(7757),o=t.n(a),i=t(5294),c="8c011024daf9ab6b31dbbb1d29e7525a",u="https://api.themoviedb.org/3",s="https://image.tmdb.org/t/p/w500/";function p(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(u,"/trending/movie/day?api_key=").concat(c));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function n(e,t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(u,"/search/movie?query=").concat(e,"&page=").concat(t,"&api_key=").concat(c));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(u,"/movie/").concat(e,"?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(n){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=383.9d11133c.chunk.js.map