"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[383],{2383:function(n,t,e){e.r(t),e.d(t,{default:function(){return N}});var r,a,o,u,c=e(5861),i=e(9439),s=e(7757),p=e.n(s),l=e(1087),d=e(7689),f=e(2791),h=e(36),v=e(5264),x=e(168),m=e(5867),b=m.ZP.input(r||(r=(0,x.Z)(["\n  width: 90%;\n  padding: 10px;\n  margin-top: 10px;\n  outline: none;\n  border-radius: 40px;\n  border: 1px solid black;\n  transition: all 600ms ease;\n  &:focus-within {\n    border-color: #048d8d;\n  }\n"]))),g=m.ZP.form(a||(a=(0,x.Z)(["\n  position: relative;\n  max-width: 900px;\n  width: 100%;\n"]))),Z=m.ZP.button(o||(o=(0,x.Z)(["\n  position: absolute;\n  top: 60%;\n  cursor: pointer;\n  left: 88%;\n  transform: translate(-50%, -50%);\n  padding: 10.6px 10px 10px 10px;\n  margin: 0;\n  background: #dddddd;\n  color: #ff9812;\n  text-transform: uppercase;\n  outline: none;\n  border: 1px solid black;\n  border-top-right-radius: 40px;\n  border-bottom-right-radius: 40px;\n  transition: all 600ms ease;\n  &:hover {\n    background: orange;\n    color: #dddddd;\n    font-weight: 700;\n  }\n"]))),y=e(184),k=function(n){var t=n.onSubmit;return(0,y.jsx)("div",{children:(0,y.jsxs)(g,{onSubmit:t,children:[(0,y.jsx)(b,{type:"text",placeholder:"Search...",autoComplete:"false"}),(0,y.jsx)(Z,{type:"submit",children:"Search"})]})})},w=m.ZP.div(u||(u=(0,x.Z)(["\n    max-width: 100%;\n"]))),j=e(630),C=e(6048),P=e.n(C),S=function(n){var t=n.totalPages,e=n.onPageChange;return(0,y.jsx)("div",{children:(0,y.jsx)(P(),{containerClassName:"pagination",pageClassName:"page-item",activeClassName:"active",onPageChange:e,pageCount:t,breakLabel:"..."})})},_=(0,f.lazy)((function(){return e.e(912).then(e.bind(e,912))})),N=function(){var n,t=(0,f.useState)([]),e=(0,i.Z)(t,2),r=e[0],a=e[1],o=(0,f.useState)(!1),u=(0,i.Z)(o,2),s=u[0],x=u[1],m=(0,f.useState)(null),b=(0,i.Z)(m,2),g=b[0],Z=b[1],C=(0,f.useState)(null),P=(0,i.Z)(C,2),N=P[0],q=P[1],T=(0,l.lr)(),E=(0,i.Z)(T,2),z=E[0],D=E[1],H=(0,d.TH)(),L=null!==(n=z.get("query"))&&void 0!==n?n:"";return(0,f.useEffect)((function(){if(""!==L.trim()&&null!==g){var n=function(){var n=(0,c.Z)(p().mark((function n(){var t,e;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,x(!0),n.next=4,(0,h.q)(L,g);case 4:t=n.sent,(e=t.data.results).length>0?(a(e),q(t.data.total_pages)):v.Notify.failure("Movies NOT found"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),v.Notify.failure("Error, server not answer");case 13:return n.prev=13,x(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,9,13,16]])})));return function(){return n.apply(this,arguments)}}();n()}}),[g,L]),console.log(N),(0,y.jsxs)(w,{children:[s&&(0,y.jsx)(j.Z,{}),"/movies"===H.pathname&&(0,y.jsx)(k,{onSubmit:function(n){var t;n.preventDefault();var e=n.target.children[0].value;if(""===e.trim())return D({});D({query:e}),Z(1),n.target.children[0].value="",null===(t=H.state)||void 0===t||t.to("/movies")}}),(0,y.jsx)(f.Suspense,{fallback:(0,y.jsx)(j.Z,{}),children:(0,y.jsx)(d.j3,{})}),L&&(0,y.jsx)(_,{searchResult:r}),N>1&&(0,y.jsx)(S,{totalPages:N,onPageChange:function(n){return Z(n.selected)}})]})}},36:function(n,t,e){e.d(t,{TP:function(){return f},ap:function(){return s},bp:function(){return v},q:function(){return l},tx:function(){return m}});var r=e(5861),a=e(7757),o=e.n(a),u=e(5294),c="8c011024daf9ab6b31dbbb1d29e7525a",i="https://api.themoviedb.org/3";function s(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("".concat(i,"/trending/movie/day?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function n(t,e){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("".concat(i,"/search/movie?query=").concat(t,"&page=").concat(e,"&api_key=").concat(c));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function n(t){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("".concat(i,"/movie/").concat(t,"?api_key=").concat(c));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(o().mark((function n(t){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("".concat(i,"/movie/").concat(t,"/credits?api_key=").concat(c));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(o().mark((function n(t){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.Z)("".concat(i,"/movie/").concat(t,"/reviews?api_key=").concat(c));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=383.68d23804.chunk.js.map