"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[383],{2383:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r,a,o,i,c,s=t(5861),u=t(9439),p=t(7757),f=t.n(p),l=t(1087),d=t(7689),h=t(2791),x=t(36),v=t(5264),g=t(168),m=t(5867),b=m.ZP.input(r||(r=(0,g.Z)(["\n  width: 90%;\n  padding: 10px;\n  margin-top: 10px;\n  outline: none;\n  border-radius: 40px;\n  border: 2px solid black;\n  transition: all 600ms ease;\n  border-radius: 103px;\n  background: linear-gradient(145deg, #ffffff, #e6e6e6);\n  box-shadow: 7px 7px 34px #666666, -7px -7px 34px #ffffff;\n  &:focus-within {\n    border-color: orange;\n  }\n"]))),y=m.ZP.form(a||(a=(0,g.Z)(["\n  position: relative;\n  max-width: 900px;\n  width: 100%;\n"]))),Z=m.ZP.button(o||(o=(0,g.Z)(["\n  position: absolute;\n  top: 60%;\n  cursor: pointer;\n  left: 90%;\n  transform: translate(-50%, -50%);\n  padding: 10.6px 10px 10px 10px;\n  margin: 0;\n  background: #ffffff;\n  color: #ff9100;\n  text-transform: uppercase;\n  outline: none;\n  border: 2px solid black;\n  border-top-right-radius: 40px;\n  border-bottom-right-radius: 40px;\n  font-weight: 700;\n  transition: all 600ms ease;\n  &:hover {\n    background: orange;\n    color: #000000;\n  }\n"]))),w=t(184),k=function(n){var e=n.onSubmit;return(0,w.jsx)("div",{children:(0,w.jsxs)(y,{onSubmit:e,children:[(0,w.jsx)(b,{type:"text",placeholder:"Search...",autoComplete:"false"}),(0,w.jsx)(Z,{type:"submit",children:"Search"})]})})},j=m.ZP.div(i||(i=(0,g.Z)(["\n    max-width: 100%;\n"]))),P=t(630),S=t(6048),_=t.n(S),C=t(8820),N=t(9983),q=m.ZP.div(c||(c=(0,g.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),O=function(n){var e=n.totalPages,t=n.onPageChange;return(0,w.jsx)(q,{children:(0,w.jsx)(_(),{containerClassName:"pagination",pageClassName:"page-item",activeClassName:"active-page",onPageChange:t,initialPage:JSON.parse(localStorage.getItem("page"))-1,pageRangeDisplayed:2,pageCount:e,breakLabel:"...",previousLabel:(0,w.jsx)(N.Pd.Provider,{value:{color:"#cf9d13",size:"36px"},children:(0,w.jsx)(C._u0,{})}),nextLabel:(0,w.jsx)(N.Pd.Provider,{value:{color:"#cf9d13",size:"36px"},children:(0,w.jsx)(C.bBv,{})})})})},z=(0,h.lazy)((function(){return t.e(0).then(t.bind(t,4e3))})),I=function(){var n,e=(0,h.useState)([]),t=(0,u.Z)(e,2),r=t[0],a=t[1],o=(0,h.useState)(!1),i=(0,u.Z)(o,2),c=i[0],p=i[1],g=(0,h.useState)(0),m=(0,u.Z)(g,2),b=m[0],y=m[1],Z=(0,h.useState)(null),S=(0,u.Z)(Z,2),_=S[0],C=S[1],N=(0,l.lr)(),q=(0,u.Z)(N,2),I=q[0],J=q[1],L=(0,d.TH)(),T=null!==(n=I.get("query"))&&void 0!==n?n:"";return(0,h.useEffect)((function(){if(""!==T.trim()&&0!==b){var n=function(){var n=(0,s.Z)(f().mark((function n(){var e,t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),localStorage.setItem("page",JSON.stringify(b)),n.next=5,(0,x.q)(T,b);case 5:e=n.sent,(t=e.data.results).length>0?(a(t),C(e.data.total_pages)):v.Notify.failure("Movies NOT found"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0),v.Notify.failure("Error, server not answer");case 14:return n.prev=14,p(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,10,14,17]])})));return function(){return n.apply(this,arguments)}}();n()}}),[b,T]),(0,w.jsxs)(j,{children:[c&&(0,w.jsx)(P.Z,{}),"/movies"===L.pathname&&(0,w.jsx)(k,{onSubmit:function(n){var e;n.preventDefault();var t=n.target.children[0].value;if(""===t.trim())return J({});J({query:t}),y(1),localStorage.setItem("page",JSON.stringify(1)),n.target.children[0].value="",null===(e=L.state)||void 0===e||e.to("/movies")}}),(0,w.jsx)(h.Suspense,{fallback:(0,w.jsx)(P.Z,{}),children:(0,w.jsx)(d.j3,{})}),T&&(0,w.jsx)(z,{searchResult:r}),_>1&&"/movies"===L.pathname&&T&&(0,w.jsx)(O,{totalPages:_,onPageChange:function(n){return y(n.selected+1)}})]})}},36:function(n,e,t){t.d(e,{TP:function(){return h},ap:function(){return p},bp:function(){return v},q:function(){return l},sU:function(){return u},tx:function(){return m}});var r=t(5861),a=t(7757),o=t.n(a),i=t(5294),c="8c011024daf9ab6b31dbbb1d29e7525a",s="https://api.themoviedb.org/3",u="https://image.tmdb.org/t/p/w500/";function p(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(s,"/trending/movie/day?api_key=").concat(c));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n,e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function n(e,t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(s,"/search/movie?query=").concat(e,"&page=").concat(t,"&api_key=").concat(c));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(s,"/movie/").concat(e,"?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Z)("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(c));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=383.ce5d65fd.chunk.js.map